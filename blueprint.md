# Project Blueprint

## Overview

This project is a full-stack application designed for autonomous code analysis. It consists of a Next.js frontend and an Express.js backend. The backend analyzes public GitHub repositories, providing code reviews, generating tests, and assessing regression risks. The frontend offers a user interface to initiate the analysis and view the results.

## System Architecture

The application is designed around the AURA (Autonomous Universal Review Agent) architecture.

- **AURA Core Engine (`backend/src/core/repoAnalyzer.ts`):** This is the central component that orchestrates the analysis. It parses the repository, creates a knowledge graph of the codebase, and invokes the specialized agents.

- **Review Agent (`backend/src/agents/codeReviewAgent.ts`):** This agent performs deep analysis of the code, identifying potential bugs, security vulnerabilities, and areas for design improvement.

- **Test Synthesizer (`backend/src/agents/testGeneratorAgent.ts`):** This agent is responsible for automatically generating meaningful unit tests for the analyzed code, helping to ensure code quality and prevent regressions.

- **Regression Predictor (`backend/src/agents/regressionAgent.ts`):** This component scores the potential risk of regression for different parts of the codebase, allowing developers to focus their testing efforts more effectively.

- **Insights Hub (`frontend/`):** The Next.js frontend serves as the user-facing part of the system. It provides the web interface for initiating analysis and a dashboard for visualizing the insights and reports generated by the backend agents.

## Project Outline

### Backend

- **Framework:** Express.js
- **Language:** TypeScript
- **Dependencies:**
    - `express`: Web server framework
    - `cors`: To enable Cross-Origin Resource Sharing
    - `typescript`, `ts-node`, `@types/node`: For TypeScript support
    - `axios`: For making HTTP requests to the GitHub API
    - `tmp`: For creating temporary directories
    - `langchain`, `@langchain/openai`: For interacting with OpenAI's language models
- **Structure:**
    - `src/`
        - `agents/`: Contains the core logic for code analysis agents.
            - `codeReviewAgent.ts`: Analyzes code for maintainability, bugs, and security vulnerabilities.
            - `testGeneratorAgent.ts`: Generates unit tests for specified files.
            - `regressionAgent.ts`: Estimates the risk of regression for code changes.
        - `config/`: Configuration files.
            - `env.ts`: Manages environment variables.
        - `core/`: Core functionalities.
            - `llmClient.ts`: Client for interacting with the language model.
            - `repoAnalyzer.ts`: Clones and analyzes the structure of a GitHub repository.
        - `routes/`: API routes.
            - `analysis.ts`: Handles analysis requests.
            - `health.ts`: A health check endpoint.
        - `index.ts`: The main entry point for the backend server.

### Frontend

- **Framework:** Next.js
- **Language:** TypeScript
- **Styling:** Radix UI Themes
- **Dependencies:**
    - `next`: React framework
    - `react`, `react-dom`: UI library
    - `@radix-ui/themes`: Component library
    - `@radix-ui/react-icons`: Icons
- **Structure:**
    - `src/`
        - `components/`: Reusable React components.
            - `AuraLogo.tsx`: The application's logo.
            - `RepoForm.tsx`: The form for submitting a repository URL.
            - `AnalysisResult.tsx`: Displays the analysis report.
        - `pages/`: Next.js pages.
            - `_app.tsx`: Custom App component to wrap all pages.
            - `index.tsx`: The main page of the application.

## Style and Design

- **UI Library:** Radix UI Themes is used for a consistent and accessible component set.
- **Theme:** A dark theme is applied site-wide for a modern look.
- **Accent Color:** Indigo is used as the accent color to highlight interactive elements.
- **Logo:** A custom styled "AURA" logo with a text shadow effect.
- **Layout:** The main page has a centered layout with a maximum width to ensure readability.

## Features

- **Code Analysis:** Users can submit a public GitHub repository URL to be analyzed.
- **Code Review:** The application provides automated code review comments, focusing on maintainability, potential bugs, and security issues.
- **Test Generation:** Unit tests are automatically generated for a file within the repository.
- **Regression Risk Assessment:** The system estimates the regression risk for each file, helping developers prioritize testing.
- **Responsive Design:** The application is designed to be responsive and work on different screen sizes.

